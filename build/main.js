const mge={TITLE:'Mini Game Engine',VERSION:'V1.1.1',bi:{},bu:{},cj:{},dd:{},dx:{},cm:{},hl:{}};mge.hq={get hn(){return mge.bi.ah.currentTime},get ho(){return mge.bi.bj},set ho(_value){mge.bi.bf(_value)},};mge.hs={get bpm(){return mge.hl.fw},set bpm(_value){mge.hl.fw=_value},hr:function(gc,gd,bj){return mge.hl.gb(gc,gd,bj)},start:function(){mge.hl.cf()},stop:function(){mge.hl.hc()},reset:function(){mge.hl.hm()}};mge.ku={get width(){return mge.bu.bn.width},set width(_value){mge.bu.bn.width=_value},get height(){return mge.bu.bn.height},set height(_value){mge.bu.bn.height=_value},get fps(){return mge.dd.cy},get ht(){return mge.cj.ci()},get context(){return mge.bu.bo},start:function(ce){mge.cj.cf(ce)},hu:function(ce){mge.cj.cd(ce)},hv:function(){return mge.cj.ca()}};mge.hy={get hw(){return mge.cm.cl},hx:function(cp){return mge.cm.cn(cp)}};mge.ia={get hz(){return mge.dx.df},get ib(){return mge.dx.dg},get ic(){return mge.dx.dh},get id(){return mge.dx.di},get ie(){return mge.dx.dj},get x(){return mge.dx._x},get y(){return mge.dx._y}};mge.fu={set ig(_value){this.dz=_value},get width(){return this.bk},set width(_value){this.bk=_value},get height(){return this.bl},set height(_value){this.bl=_value},get x(){return this._x},set x(_value){this._x=_value},get y(){return this._y},set y(_value){this._y=_value},get ih(){return this.br},set ih(_value){this.br=_value},get ii(){return this.bs},set ii(_value){this.bs=_value},get ij(){return this.ee},set ij(_value){this.ee=_value},get ik(){return this.ef},set ik(_value){this.ef=_value},get il(){return this.ew()},get hz(){return this.df()},get io(){return this.ev()},get ip(){return this.fd()},draw:function(){this.ek()},iq:function(){return this.fg()},is:function(){this.fl()},ir:function(){this.fj()},it:function(ml){return this.fn(ml)}};mge.bi.aa=function(ab,ac,ad,ae){let a=ab.a||0.0001;let d=ab.d||0.0001;let s=ab.s||0.0001;let r=ab.r||0.0001;let af=ab.minValue||0.0001;let ag=ab.maxValue||1;if(ae<=a){ac.setValueAtTime(af,ad);ac.exponentialRampToValueAtTime(ag*ae/a,ad+ae);ac.exponentialRampToValueAtTime(af,ad+ae+r)}else if(ae<=a+d){ac.setValueAtTime(af,ad);ac.exponentialRampToValueAtTime(ag,ad+a);ac.exponentialRampToValueAtTime(ag*s*d/ae,ad+ae);ac.exponentialRampToValueAtTime(af,ad+ae+r)}else{ac.setValueAtTime(af,ad);ac.exponentialRampToValueAtTime(ag,ad+a);ac.exponentialRampToValueAtTime(ag*s,ad+a+d);ac.setValueAtTime(ag*s,ad+ae);ac.exponentialRampToValueAtTime(af,ad+ae+r)}};mge.bi.hm=function(){this.ah='';this.ai='';this.bj=1;this.ah=new(window.AudioContext||window.webkitAudioContext)();this.ai=this.ah.createGain();this.ai.connect(this.ah.destination)};mge.bi.bf=function(bj){if(bj<=0){mge.bi.bj=0}else if(bj>=1){mge.bi.bj=1}else{mge.bi.bj=bj};mge.bi.ai.gain.setValueAtTime(mge.bi.bg(mge.bi.bj),mge.hq.hn)};mge.bi.bg=function(bj){let bh=30;if(bj<=0){return 0;}else if(bj>=1){return 1;}else{return Math.pow(10,(bj-1)*bh/10)}};mge.bu.hm=function(bk,bl,bm){this.bn='';this.bo='';this.bn=document.getElementById(bm);if(this.bn){this.bn.remove()};this.bn=document.createElement('canvas');this.bn.id=bm;this.bn.width=bk;this.bn.height=bl;document.body.appendChild(this.bn);this.bo=this.bn.getContext('2d')};mge.bu.bp=function(){let br=(window.innerWidth-10)/this.bn.width;let bs=(window.innerHeight-10)/this.bn.height;let bt=Math.min(br,bs);this.bn.style.transform='scale('+bt+')';this.bn.display='block'};mge.cj.hm=function(bk,bl){this.bx='';this.by='';this.bz=[];mge.bu.hm(bk,bl,'mk');mge.dx.hm(mge.bu.bn);mge.cm.hm();mge.bi.hm();mge.hl.hm();mge.dd.hm()};mge.cj.ca=function(){let cc=Object.create(mge.fu);cc.hm(mge.bu.bo);mge.cj.bz.push(cc);return cc};mge.cj.ci=function(){let ch=0;this.bz.forEach(fu=>{ch+=fu.ei.length;});return ch};mge.cj.cd=function(ce){if(!ce.start){ce.start=function(){}};if(!ce.update){ce.update=function(){}};if(!ce.draw){ce.draw=function(){}};this.by=ce};mge.cj.cf=function(ce){this.cd(ce);mge.dd.cf()};mge.cm.cn=function(cp){if(this.cl.indexOf(cp)==-1){return false;}else{return true}};mge.cm.co=function(e){if(this.ck.indexOf(e.key)==-1){this.ck.push(e.key)}};mge.cm.cq=function(e){let indexOfKey=this.ck.indexOf(e.key);if(indexOfKey !=-1){this.ck.splice(indexOfKey,1)}};mge.cm.cs=function(){this.cl=[];this.ck=[]};mge.cm.ct=function(){this.cl=this.ck.slice()};mge.cm.hm=function(){this.cl=[];this.ck=[];document.onkeydown=function(e){mge.cm.co(e)};document.onkeyup=function(e){mge.cm.cq(e)}};mge.dd.hm=function(){this.cv=0;this.cw=0;this.cx=0;this.cy=0};mge.dd.cf=function(){this.db()};mge.dd.db=function(){mge.dd.cw=performance.now();mge.dd.cx=mge.dd.cw-mge.dd.cv;mge.dd.cy=1/(mge.dd.cx/1000);if(mge.dd.cx>=16){mge.dx.ct();mge.cm.ct();if(mge.cj.bx !=mge.cj.by){mge.cj.bx=mge.cj.by;mge.dx.cs();mge.cm.cs();mge.cj.bx.start()};mge.cj.bx.update();mge.cj.bz.forEach(fu=>{fu.fe();});mge.bu.bo.clearRect(0,0,mge.bu.bn.width,mge.bu.bn.height);mge.cj.bx.draw();mge.bu.bp();mge.hl.gy();mge.dd.cv=mge.dd.cw};requestAnimationFrame(mge.dd.db)};mge.dx.dq=function(e){this.dm=true;this.dk=e.offsetX;this.dl=e.offsetY};mge.dx.dr=function(e){this.dn=true};mge.dx.ds=function(e){this.dk=e.offsetX;this.dl=e.offsetY};mge.dx.dt=function(e){this.dk='';this.dl='';this.dp=true};mge.dx.du=function(e){this.dp=true};mge.dx.cs=function(){this._x=0;this._y=0;this.df=false;this.dg=false;this.dh=true;this.di=false;this.dj=false;this.dk=0;this.dl=0;this.dm=false;this.dn=false;this.dp=false};mge.dx.ct=function(){this._x=this.dk;this._y=this.dl;this.df=this.dm;this.dm=false;this.di=false;if(this.dn){this.dg=true;this.dh=false;this.dn=false;this.di=true};this.dj=false;if(this.dp){this.dg=false;this.dh=true;this.dp=false;this.dj=true}};mge.dx.hm=function(bq){this._x=0;this._y=0;this.df=false;this.dg=false;this.dh=true;this.di=false;this.dj=false;this.dk=0;this.dl=0;this.dm=false;this.dn=false;this.dp=false;bq.onclick=function(e){mge.dx.dq(e)};bq.oniamove=function(e){mge.dx.ds(e)};bq.oniaout=function(e){mge.dx.dt(e)};bq.oniadown=function(e){mge.dx.dr(e)};bq.oniaup=function(e){mge.dx.du(e)}};mge.fu.hm=function(dy){this.dy=dy;this.dz=function(){};this.bk=100;this.bl=100;this._x=0;this._y=0;this.br=1;this.bs=1;this.ee=true;this.ef=false;this.eg=false;this.eh=false;this.ei=[];this.ej=false};mge.fu.ek=function(){if(this.ee){let dy=this.dy;dy.save();dy.translate(this._x-this.bk*this.br/2,this._y-this.bl*this.bs/2);dy.scale(this.br,this.bs);this.dz(dy);if(this.ef){dy.strokeStyle='red';dy.strokeRect(0,0,this.bk,this.bl);dy.strokeRect(this.bk/2,this.bl/2,1,1)};dy.restore()}};mge.fu.df=function(){if(this.ew()&& mge.dx.df){return true;}else{return false}};mge.fu.ev=function(){if(this.ew()&& mge.dx.di){this.eg=true};if(this.eg && mge.dx.dg){this.eg=true;}else{this.eg=false};return this.eg};mge.fu.fd=function(){if(this.ew()&& mge.dx.di){this.eh=true};if(!this.ew()&& mge.dx.di){this.eh=false};return this.eh};mge.fu.ew=function(){let ez=this._x+(this.bk/2)*this.br;let fa=this._x-(this.bk/2)*this.br;let fb=this._y+(this.bl/2)*this.bs;let fc=this._y-(this.bl/2)*this.bs;if(mge.dx._x>=fa && mge.dx._x<=ez && mge.dx._y>=fc && mge.dx._y<=fb){return true;}else{return false}};mge.fu.fe=function(){let ff=[];this.ei.forEach(ft=>{if(ft.ej){ff.push(ft)};});this.ei=ff};mge.fu.fg=function(){let ft=Object.create(this);ft.ej=true;this.ei.push(ft);return ft};mge.fu.fl=function(){this.ej=false};mge.fu.fj=function(){this.ei=[]};mge.fu.fn=function(ml){this.ei.forEach(ft=>{ft[ml]();})};mge.hl.hm=function(){this.fv=[];this.fw=60;this.fx=1;this.fy=0;this.fz=0;this.cz='mn'};mge.hl.gi=function(gj){let gk={C:32.7,Db:34.6,D:36.7,Eb:38.9,E:41.2,F:43.6,Gb:46.2,G:49,Ab:51.9,A:55,Bb:58.3,B:61.7};let gl=parseInt(gj.substr(gj.length-1,gj.length),10);let gm=gj.substr(0,gj.length-1);let am=gk[gm]*Math.pow(2,gl);return Math.round(am)};mge.hl.gb=function(gc,gd,bj){let gh=Object.create(mge.hl.gg);gh.gc=gc;gh.gd=gd;gh.bj=bj;mge.hl.fv.push(gh);return gh};mge.hl.go=function(gg,gq){let gt=gg.hi(gq);let gu=this.fy;for(let i=0;i<gt.length;i+=2){let gm=gt[i];let gmFrequency=this.gi(gm);let ae=gt[i+1]*60/this.fw;gg.gd.play(gmFrequency,gu,ae,gg.bj);gu+=ae}};mge.hl.gy=function(){if(mge.bi.ah.currentTime>=this.fz && this.cz=='mm'){for(let i=0;i<this.fv.length;i++){let gg=this.fv[i];this.go(gg,this.fx)};this.fx+=1;this.fz=this.fy+3*60/this.fw;this.fy+=4*60/this.fw}};mge.hl.cf=function(){this.fx=1;this.fy=mge.bi.ah.currentTime;this.fz=0;this.cz='mm'};mge.hl.hc=function(){this.cz='mn'};mge.hl.gg={gc:[],gd:{},bj:1,bf:function(bj){if(bj<=0){this.bj=0}else if(bj>=1){this.bj=1}else{this.bj=bj}},hi:function(hj){let hk=this.gc.length;if(hk==0){return ''}else if(hj%hk==0){return this.gc[hk-1]}else{return this.gc[hj%hk-1]}}};mge.cj.hm(640,360);mge.iv={jm:{jq:[]},jn:{}};mge.iv.jn={set config(_value){this.jj(_value)},set scale(_value){this.jk(_value)},get scale(){return this.bt},get width(){return this.iz._s._w*this.bt},get height(){return this.iz._s._h*this.bt},load:function(){this.je()},draw:function(dy){this.ek(dy)}};mge.image={create:function(){return mge.iv.jm.hmImage()}};mge.iv.jn.hm=function(){this.iz={};this.ja=false;this.bt=1;this.jc={}};mge.iv.jn.ek=function(dy){dy.drawImage(this.jc,0,0)};mge.iv.jn.je=function(){let iz=this.iz;let bt=this.bt;let _s=iz._s||{};let _w=_s._w*bt||200;let _h=_s._h*bt||200;let jf=new OffscreenCanvas(_w,_h);let dy=jf.getContext('2d');let _p=iz._p||[];_p.forEach(function(jh){let fs=jh._fs||['C','red'];if(fs[0]=='C'){dy.fillStyle=fs[1]}else if(fs[0]=='LG'||fs[0]=='RG'){let jg={};if(fs[0]=='LG'){jg=dy.createLinearGradient(fs[1]*bt,fs[2]*bt,fs[3]*bt,fs[4]*bt)}else{jg=dy.createRadialGradient(fs[1]*bt,fs[2]*bt,fs[3]*bt,fs[4]*bt,fs[5]*bt,fs[6]*bt)};let _gp=jh._gp;_gp.forEach(function(mp){jg.addColorStop(mp[0],mp[1]);});dy.fillStyle=jg};let ss=jh._ss||['red',2,'square','miter'];dy.strokeStyle=ss[0];dy.lineWidth=ss[1]*bt;dy.lineCap=ss[2];dy.lineJoin=ss[3];dy.beginPath();let _c=jh._c||[];_c.forEach(function(_cmd){if(_cmd[0]=='M'){dy.moveTo(_cmd[1]*bt,_cmd[2]*bt)}else if(_cmd[0]=='L'){dy.lineTo(_cmd[1]*bt,_cmd[2]*bt)}else if(_cmd[0]=='Q'){dy.quadraticCurveTo(_cmd[1]*bt,_cmd[2]*bt,_cmd[3]*bt,_cmd[4]*bt)}else if(_cmd[0]=='B'){dy.bezierCurveTo(_cmd[1]*bt,_cmd[2]*bt,_cmd[3]*bt,_cmd[4]*bt,_cmd[5]*bt,_cmd[6]*bt)}else if(_cmd[0]=='C'){dy.arc(_cmd[1]*bt,_cmd[2]*bt,_cmd[3]*bt,0,2*Math.PI)}else if(_cmd[0]=='R'){dy.rect(_cmd[1]*bt,_cmd[2]*bt,_cmd[3]*bt,_cmd[4]*bt)}else if(_cmd[0]=='E'){dy.ellipse(_cmd[1]*bt,_cmd[2]*bt,_cmd[3]*bt,_cmd[4]*bt,_cmd[5],0,2*Math.PI)};});if(fs[0]!='N'){dy.fill()};if(ss[1]>0){dy.stroke()};});this.jc=jf.transferToImageBitmap();this.ja=true};mge.iv.jn.jj=function(_value){this.iz=_value;this.ja=false;this.jc={}};mge.iv.jn.jk=function(_value){this.bt=_value;this.ja=false;this.jc={}};mge.iv.jm.hmImage=function(){let ix=Object.create(mge.iv.jn);ix.hm();this.jq.push(ix);return ix};mge.ki={kj:{}};mge.ki.mq=function(ft){ft.kt=Object.create(ft.__proto__.kt)};mge.ki.jeExtension=function(fu){fu.kt=Object.create(mge.ki.kj);fu.kt.hm()};mge.kt={loadExtention:function(fu){mge.ki.jeExtension(fu)},activateOwnCloneAnimation:function(ft){mge.ki.mq(ft)}};mge.ki.kj={set timeBetweenFrames(_value){this.kr=_value},get timeBetweenFrames(){return this.kr},set frames(kn){this.km(kn)},draw:function(dy){this.ek(dy)},restart:function(){this.ks()}};mge.ki.kj.ek=function(dy){if(this.kp==-1){this.kp=0;this.kq=Date.now();}else if(Date.now()- this.kq>this.kr){this.kp+=1;if(this.kp>this.kn.length-1){this.kp=0};this.kq=Date.now()};this.kn[this.kp].draw(dy)};mge.ki.kj.km=function(kn){this.kn=kn;this.kp==-1;this.kq=Date.now()};mge.ki.kj.hm=function(){this.kn=[];this.kp=-1;this.kq=Date.now();this.kr=100};mge.ki.kj.ks=function(){this.kp=-1};mge.jo={jp:{jq:[]},jr:{}};mge.jo.jr={set config(_value){this.jj(_value)},load:function(){this.je()},play:function(fw,gds,_mix){this.gy(fw,gds,_mix)}};mge.song={create:function(){return mge.jo.jp.hmSong()}};mge.jo.jr.hm=function(){this.iz={};this.ja=false;this.fv=[]};mge.jo.jr.je=function(){let iz=this.iz;let fv=[];iz._p.forEach(function(_part){let _currentPart=[];iz._str.forEach(function(_section){_part._s[_section].forEach(function(gt){_currentPart.push(_part._b[gt]);});});fv.push(_currentPart);});this.fv=fv;this.ja=true};mge.jo.jr.gy=function(fw,gds,_mix){let jy={play:function(am,ad,ae,bj){let ak={hoADSR:{a:0.02,d:400,s:0,r:0.1,minValue:0,maxValue:bj},oscType:'sine'};mge.hq.hp(ak,am,ad,ae,bj)}};if(!this.ja){this.je()};mge.hs.stop();mge.hs.reset();let jz=0;this.fv.forEach(function(gg){mge.hs.hr(gg,gds[jz]||jy,_mix[jz]||1);jz+=1;});mge.hs.bpm=fw;mge.hs.start()};mge.jo.jr.jj=function(_value){this.iz=_value;this.ja=false;this.fv=[]};mge.jo.jp.hmSong=function(){let kd=Object.create(mge.jo.jr);kd.hm();this.jq.push(kd);return kd};ku={kv:{kw:{},kx:{}},ky:{},kts:{},la:{lg:mge.ku.hv(),li:mge.ku.hv(),cat:mge.ku.hv()},lb:{},lc:{},ld:{},le:{}};window.addEventListener("load",(event)=>{let loading=document.getElementById("loading");loading.remove();mge.ku.width=1280;mge.ku.height=720;mge.ku.start(ku.kv.kw)});ku.kts.init=function(){ku.kts.lf=[ku.ky.li,ku.ky.lh]};ku.ky.init=function(){ku.ky.lg=mge.image.create();ku.ky.lg.config={"_s":{"_w":400,"_h":400},"_p":[{"_fs":["C","#a301e6"],"_ss":["#000000","5","round","round"],"_gp":[],"_c":[["M","60","170"],["Q","75","70","200","60"],["Q","317","70","350","170"],["Q","310","130","280","165"],["Q","240","130","205","165"],["Q","170","130","135","165"],["Q","96","130","60","170"]]},{"_fs":["N",""],"_ss":["#000000","5","round","round"],"_gp":[],"_c":[["M","205","165"],["L","205","275"],["M","60","193"],["Q","100","191","105","230"],["Q","100","268","60","266"],["L","60","193"],["M","153","215"],["Q","144","281","167","275"],["M","185","355"],["L","185","291"],["Q","223","287","220","310"],["Q","223","335","185","330"],["M","315","254"],["Q","312","293","330","293"],["Q","354","293","350","255"]]},{"_fs":["N",""],"_ss":["#a301e6","5","round","round"],"_gp":[],"_c":[["M","120","275"],["Q","111","312","135","310"],["M","245","250"],["Q","239","314","260","310"],["M","295","250"],["Q","264","251","262","233"],["Q","264","210","282","210"],["Q","305","210","303","232"],["L","263","232"],["M","120","260"],["C","120","260","2"]]}]};ku.ky.lg.scale=0.3;ku.ky.lg.load();ku.ky.lh=mge.image.create();ku.ky.lh.config={"_s":{"_w":50,"_h":50},"_p":[{"_fs":["C","#828282"],"_ss":["#000000","5","round","round"],"_gp":[],"_c":[["R","0","0","50","50"],["M","15","10"],["L","38","25"],["L","15","40"],["L","15","10"]]}]};ku.ky.lh.scale=1;ku.ky.lh.load();ku.ky.li=mge.image.create();ku.ky.li.config={"_s":{"_w":50,"_h":50},"_p":[{"_fs":["C","#e2dfdf"],"_ss":["#000000","5","round","round"],"_gp":[],"_c":[["R","0","0","50","50"],["M","15","10"],["L","38","25"],["L","15","40"],["L","15","10"]]}]};ku.ky.li.scale=1;ku.ky.li.load()};ku.lc.lj=new Map();ku.lc.lk={type:'sawtooth',ll:0,hoADSR:{a:0,d:0,s:0,r:0,minValue:0,maxValue:0},ln:{a:0,d:0,s:1,r:0,minValue:0,maxValue:0},lo:'lowpass',filterQ:1,lp:{a:0,d:0,s:1,r:0,minValue:10000,maxValue:10000},lq:{delay:0,feedbackLevel:0},play:function(dy,am,ad,ae,_destination){let osc=dy.createOscillator();osc.type=this.type;osc.frequency.setValueAtTime(am,ad);if(this.ll==-1){osc.frequency.setValueAtTime(am/2,ad)};if(this.ll==1){osc.frequency.setValueAtTime(am*2,ad)};mge.bi.aa(this.ln,osc.detune,ad,ae);let lr=dy.createGain();mge.bi.aa(this.hoADSR,lr.gain,ad,ae);let ls=dy.createBiquadFilter();ls.type=this.lo;ls.Q.value=this.filterQ;mge.bi.aa(this.lp,ls.frequency,ad,ae);let bd=new DelayNode(dy,{delayTime:this.lq.delay});let be=dy.createGain();be.gain.value=this.lq.feedbackLevel;osc.connect(ls);ls.connect(lr);lr.connect(_destination);lr.connect(bd);bd.connect(be);be.connect(bd);be.connect(_destination);osc.start(ad);osc.stop(ad+ae+this.hoADSR.r)}};ku.lc.newInstrument={name:'newInstrument',osc1:{},osc2:{},osc3:{},init:function(){this.osc1=Object.create(ku.lc.lk);this.osc2=Object.create(ku.lc.lk);this.osc3=Object.create(ku.lc.lk)},lv:function(am,ae){return this.name+'-'+(Math.round(am*100)/100).toString()+'-'+(Math.round(ae*100)/100).toString()},lw:function(am,ae){let  offlineContext=new OfflineAudioContext(2,ae*1.5*44100,44100);this.osc1.play(offlineContext,am,0,ae,offlineContext.destination);this.osc2.play(offlineContext,am,0,ae,offlineContext.destination);this.osc3.play(offlineContext,am,0,ae,offlineContext.destination);offlineContext.startRendering().then(renderedBuffer=>{ku.lc.lj.set(this.lv(am,ae),renderedBuffer);})},lx:function(am,ad,ae,bj){let dy=mge.bi.ah;let bjGain=dy.createGain();bjGain.gain.setValueAtTime(bj,ad);bjGain.connect(mge.bi.ai);this.osc1.play(dy,am,ad,ae,bjGain);this.osc2.play(dy,am,ad,ae,bjGain);this.osc3.play(dy,am,ad,ae,bjGain)},ly:function(am,ad,ae,bj){let ctx=mge.bi.ah;let source=ctx.createBufferSource();source.buffer=ku.lc.lj.get(this.lv(am,ae));let soundGain=ctx.createGain();soundGain.gain.setValueAtTime(bj,ad);source.connect(soundGain);soundGain.connect(mge.bi.ai);source.start(ad);source.stop(ad+ae*1.5)},play:function(am,ad,ae,bj){if(!isNaN(am)){if(ku.lc.lj.get(this.lv(am,ae))==undefined){this.lx(am,ad,ae,bj);this.lw(am,ae);}else{this.ly(am,ad,ae,bj)}}}};ku.lc.init=function(){ku.lc.lz=Object.create(ku.lc.newInstrument);ku.lc.lz.init();ku.lc.lz.name='lz';ku.lc.lz.osc1.type='sawtooth';ku.lc.lz.osc1.hoADSR={a:0.02,d:0.3,s:0.8,r:0.1,minValue:0,maxValue:1};ku.lc.lz.osc1.lo='lowpass';ku.lc.lz.osc1.lp={a:0.1,d:0.1,s:0.8,r:0.1,minValue:1000,maxValue:2000};ku.lc.lz.osc1.lq={delay:0.1,feedbackLevel:0.4};ku.lc.lz.osc2.type='sawtooth';ku.lc.lz.osc2.ll=-1;ku.lc.lz.osc2.hoADSR={a:0.02,d:0.3,s:0.8,r:0.1,minValue:0,maxValue:0.8};ku.lc.lz.osc2.lo='lowpass';ku.lc.lz.osc2.lp={a:0.1,d:0.1,s:0.8,r:0.1,minValue:1000,maxValue:2000};ku.lc.lz.osc2.lq={delay:0.1,feedbackLevel:0.4};ku.lc.lz.osc3.type='sawtooth';ku.lc.lz.osc3.hoADSR={a:0.02,d:0.3,s:0.8,r:0.1,minValue:0,maxValue:1};ku.lc.lz.osc3.lo='lowpass';ku.lc.lz.osc3.lp={a:0.1,d:0.1,s:0.8,r:0.1,minValue:1000,maxValue:2000};ku.lc.lz.osc3.ln={a:0.02,d:0.3,s:0.8,r:0.1,minValue:-4,maxValue:4};ku.lc.lz.osc3.lq={delay:0.1,feedbackLevel:0.4};ku.lc.ma=Object.create(ku.lc.newInstrument);ku.lc.ma.name='ma';ku.lc.ma.init();ku.lc.ma.osc1.type='sawtooth';ku.lc.ma.osc1.hoADSR={a:0.005,d:0.15,s:0.3,r:0.1,minValue:0,maxValue:1};ku.lc.ma.osc1.lo='lowpass';ku.lc.ma.osc1.lp={a:0.02,d:0.12,s:0.25,r:0.08,minValue:1800,maxValue:2200};ku.lc.ma.osc1.lq={delay:0.1,feedbackLevel:0.5};ku.lc.ma.osc2.type='sawtooth';ku.lc.ma.osc2.ll=0;ku.lc.ma.osc2.hoADSR={a:0.005,d:0.15,s:0.3,r:0.1,minValue:0,maxValue:0.7};ku.lc.ma.osc2.ln={a:0,d:0,s:1,r:0,minValue:3,maxValue:3};ku.lc.ma.osc2.lo='lowpass';ku.lc.ma.osc2.lp={a:0.02,d:0.12,s:0.25,r:0.08,minValue:1800,maxValue:2200};ku.lc.ma.osc2.lq={delay:0.1,feedbackLevel:0.5};ku.lc.mb=Object.create(ku.lc.newInstrument);ku.lc.mb.name='mb';ku.lc.mb.init();ku.lc.mb.osc1.type='sawtooth';ku.lc.mb.osc1.hoADSR={a:0.01,d:0.2,s:0.7,r:0.5,minValue:0,maxValue:1};ku.lc.mb.osc1.lo='lowpass';ku.lc.mb.osc1.lp={a:0.005,d:0.3,s:0.4,r:0.8,minValue:3500,maxValue:4900};ku.lc.mb.osc1.filterQ=8;ku.lc.mb.osc1.lq={delay:0.1,feedbackLevel:0.5};ku.lc.mb.osc2.type='sawtooth';ku.lc.mb.osc2.ll=0;ku.lc.mb.osc2.hoADSR={a:0.01,d:0.2,s:0.7,r:0.5,minValue:0,maxValue:1};ku.lc.mb.osc2.lo='lowpass';ku.lc.mb.osc2.lp={a:0.005,d:0.3,s:0.4,r:0.8,minValue:3500,maxValue:4900};ku.lc.mb.osc2.ln={a:0,d:0,s:1,r:0,minValue:7,maxValue:7};ku.lc.mb.osc2.filterQ=8;ku.lc.mb.osc2.lq={delay:0.1,feedbackLevel:0.5}};ku.ld.init=function(){ku.ld.kxSong=mge.song.create();ku.ld.kxSong.config={"_str":[0,1,2,3,4,5,6,7,8,9],"_p":[{"_b":[["r",4],["D1",4],["G1",4],["C1",4],["D1",1,"r",0.5,"D1",1,"r",0.5,"D1",1],["G1",1,"r",0.5,"G1",1,"r",0.5,"G1",1],["C1",1,"r",0.5,"C1",1,"r",0.5,"C1",1],["F1",4],["Bb1",4],["F1",1,"r",0.5,"F1",1,"r",0.5,"F1",1],["Bb1",1,"r",0.5,"Bb1",1,"r",0.5,"Bb1",1],["E1",1,"r",0.5,"E1",1,"r",0.5,"E1",1],["A1",1,"r",0.5,"A1",1,"r",0.5,"A1",1]],"_s":[[0,0,0,0],[1,2,3,3],[1,2,3,3],[1,2,3,3],[4,5,6,6],[4,5,6,6],[3,7,8,8],[0,0,0,0],[5,6,9,10,11,12,4,12],[0,0,0,0]]},{"_b":[["D2",1.5,"A2",1.5,"F2",1],["G2",1.5,"D2",1.5,"B2",1],["C2",1.5,"G2",1.5,"E2",1],["r",4],["C2",1.5,"G2",1.5,"Eb2",1],["F2",1.5,"C2",1.5,"A2",1],["Bb2",1.5,"F2",1.5,"D2",1],["D2",1.5,"A2",1.5,"Gb2",1],["G2",1.5,"D2",1.5,"Bb2",1],["E2",1.5,"Bb2",1.5,"G2",1],["A2",1.5,"E2",1.5,"Db2",1]],"_s":[[0,1,2,2],[0,1,2,2],[0,1,2,2],[0,1,2,2],[0,1,2,2],[0,1,2,2],[3,3,3,3],[4,5,6,7],[8,2,5,6,9,10,0,10],[0,1,2,2]]},{"_b":[["r",0.5,"F3",0.5,"F3",1,"A3",1,"C3",1],["r",0.5,"B3",0.5,"B3",1,"D3",1,"F3",1],["r",0.5,"E3",0.5,"E3",1,"G3",1,"B3",1],["F3",0.5,"F3",0.5,"F3",0.5,"F3",0.5,"A3",0.5,"A3",0.5,"C3",0.5,"C3",0.5],["B3",0.5,"B3",0.5,"B3",0.5,"B3",0.5,"D3",0.5,"D3",0.5,"F3",0.5,"F3",0.5],["E3",0.5,"E3",0.5,"E3",0.5,"E3",0.5,"G3",0.5,"G3",0.5,"B3",0.5,"B3",0.5],["r",4],["Bb3",0.5,"Bb3",0.5,"Bb3",0.5,"Bb3",0.5,"D3",0.5,"D3",0.5,"F3",0.5,"F3",0.5],["E3",0.5,"E3",0.5,"E3",0.5,"E3",0.5,"G3",0.5,"G3",0.5,"Bb3",0.5,"Bb3",0.5],["A3",0.5,"A3",0.5,"A3",0.5,"A3",0.5,"C3",0.5,"C3",0.5,"E3",0.5,"E3",0.5],["D3",0.5,"D3",0.5,"D3",0.5,"D3",0.5,"F3",0.5,"F3",0.5,"A3",0.5,"A3",0.5],["G3",0.5,"G3",0.5,"G3",0.5,"G3",0.5,"Bb3",0.5,"Bb3",0.5,"D3",0.5,"D3",0.5],["Db3",0.5,"Db3",0.5,"Db3",0.5,"Db3",0.5,"E3",0.5,"E3",0.5,"G3",0.5,"G3",0.5]],"_s":[[0,1,2,2],[0,1,2,2],[3,4,5,5],[3,4,5,5],[3,4,5,5],[3,4,5,5],[6,6,6,6],[6,6,6,6],[7,8,9,10,11,12,3,12],[6,6,6,6]]},{"_b":[["r",4],["F4",4],["B4",2,"F4",2],["E4",4],["E4",2,"B4",2],["D4",0.5,"F4",0.5,"A4",0.25,"F4",0.25,"A4",0.25,"C4",0.25,"D4",0.5,"F4",0.5,"A4",0.25,"F4",0.25,"A4",0.25,"C4",0.25],["G4",0.5,"B4",0.5,"D4",0.25,"B4",0.25,"D4",0.25,"F4",0.25,"G4",0.5,"B4",0.5,"D4",0.25,"B4",0.25,"D4",0.25,"F4",0.25],["C4",0.5,"E4",0.5,"G4",0.25,"E4",0.25,"G4",0.25,"B4",0.25,"C4",0.5,"E4",0.5,"G4",0.25,"E4",0.25,"G4",0.25,"B4",0.25],["D4",0.25,"A4",0.25,"F4",0.5,"A4",0.25,"F4",0.25,"A4",0.5,"D4",0.25,"A4",0.25,"F4",0.5,"A4",0.25,"F4",0.25,"A4",0.25,"C4",0.25],["G4",0.25,"D4",0.25,"B4",0.5,"D4",0.25,"B4",0.25,"D4",0.5,"G4",0.25,"D4",0.25,"B4",0.5,"D4",0.25,"B4",0.25,"D4",0.25,"F4",0.25],["C4",0.25,"G4",0.25,"E4",0.5,"G4",0.25,"E4",0.25,"G4",0.5,"C4",0.25,"G4",0.25,"E4",0.5,"G4",0.25,"E4",0.25,"G4",0.25,"B4",0.25],["Eb4",4],["A4",2,"Eb4",2],["D4",4],["D4",2,"A4",2],["Eb4",2,"Bb4",2],["A4",1,"C4",1,"Eb4",2],["Gb4",1,"A4",1,"C4",2],["G4",0.25,"D4",0.25,"Bb4",0.25,"F4",0.25,"D4",0.25,"Bb4",0.25,"D4",0.25,"F4",0.25,"G4",0.25,"D4",0.25,"Bb4",0.25,"F4",0.25,"D4",0.25,"Bb4",0.25,"D4",0.25,"F4",0.25],["C4",0.25,"G4",0.25,"E4",0.25,"Bb4",0.25,"G4",0.25,"E4",0.25,"G4",0.25,"Bb4",0.25,"C4",0.25,"G4",0.25,"E4",0.25,"Bb4",0.25,"G4",0.25,"E4",0.25,"G4",0.25,"Bb4",0.25],["F4",0.25,"C4",0.25,"A4",0.25,"E4",0.25,"C4",0.25,"A4",0.25,"C4",0.25,"E4",0.25,"F4",0.25,"C4",0.25,"A4",0.25,"E4",0.25,"C4",0.25,"A4",0.25,"C4",0.25,"E4",0.25],["Bb4",0.25,"F4",0.25,"D4",0.25,"A4",0.25,"F4",0.25,"D4",0.25,"F4",0.25,"A4",0.25,"Bb4",0.25,"F4",0.25,"D4",0.25,"A4",0.25,"F4",0.25,"D4",0.25,"F4",0.25,"A4",0.25],["E4",0.25,"Bb4",0.25,"G4",0.25,"D4",0.25,"Bb4",0.25,"G4",0.25,"Bb4",0.25,"D4",0.25,"E4",0.25,"Bb4",0.25,"G4",0.25,"D4",0.25,"Bb4",0.25,"G4",0.25,"Bb4",0.25,"D4",0.25],["A4",0.25,"E4",0.25,"Db4",0.25,"G4",0.25,"E4",0.25,"Db4",0.25,"E4",0.25,"G4",0.25,"A4",0.25,"E4",0.25,"Db4",0.25,"G4",0.25,"E4",0.25,"Db4",0.25,"E4",0.25,"G4",0.25],["D4",0.25,"A4",0.25,"F4",0.25,"C4",0.25,"A4",0.25,"F4",0.25,"A4",0.25,"C4",0.25,"D4",0.25,"A4",0.25,"F4",0.25,"C4",0.25,"A4",0.25,"F4",0.25,"A4",0.25,"C4",0.25],["A4",4]],"_s":[[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,4],[5,6,7,7],[8,9,10,10],[11,12,13,14],[15,16,14,17],[18,19,20,21,22,23,24,23],[25,0,0,0]]}]};ku.ld.kxSong.playSong=function(){mge.hs.stop();mge.hs.reset();let orchestra=[];orchestra.push(ku.lc.lz);orchestra.push(ku.lc.ma);orchestra.push(ku.lc.ma);orchestra.push(ku.lc.mb);let mix=[0.1,0.1,0.1,0.06];let bpm=110;mge.hq.ho=0.9;ku.ld.kxSong.play(bpm,orchestra,mix)}};ku.kv.kw.start=function(){ku.ky.init();ku.kts.init();ku.lc.init();ku.ld.init();ku.la.lg.init();ku.la.li.init();ku.la.cat.init()};ku.kv.kw.update=function(){ku.la.li.update()};ku.kv.kw.draw=function(){ku.la.lg.draw();ku.la.li.draw();ku.la.cat.draw()};ku.kv.kx.start=function(){ku.ld.kxSong.playSong()};ku.kv.kx.update=function(){};ku.kv.kx.draw=function(){};ku.la.lg.init=function(){this.width=ku.ky.lg.width;this.height=ku.ky.lg.height;this.x=640;this.y=650};ku.la.lg.update=function(){};ku.la.lg.ig=function(ctx){ku.ky.lg.draw(ctx)};ku.la.cat.init=function(){this.width=180;this.height=100;this.x=200;this.y=200;this.ih=1.5;this.ii=1.5;this.ik=true;this.pathBody=new Path2D("M125 25 C98 50,80 20,70 42 C73 50,64 70,61 75 C82 38,80 58,87 75 C85 35,105 54,99 76 C112 38,105 50,116 75 C111 56,120 42,120 41 C129 38,128 34,124 29");this.pathTail=new Path2D("M70 42 C62 45,58 40,49 36")};ku.la.cat.update=function(){};ku.la.cat.ig=function(ctx){ctx.fillStyle="black";ctx.fill(this.pathBody);ctx.strokeStyle="black";ctx.stroke(this.pathTail)};ku.la.li.init=function(){this.width=ku.ky.li.width;this.height=ku.ky.li.height;this.x=640;this.y=300;mge.kt.loadExtention(this);this.kt.timeBetweenFrames=500;this.kt.frames=ku.kts.lf};ku.la.li.update=function(){if(this.hz){mge.ku.hu(ku.kv.kx)}};ku.la.li.ig=function(ctx){this.kt.draw(ctx)}